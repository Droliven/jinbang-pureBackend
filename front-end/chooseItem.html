<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>chooseItem</title>
    <link rel="stylesheet" href="./layui/css/layui.css">
    <script type="text/javascript" src="./js/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="./js/jquery.cookie.js"></script>
</head>
<body class="layui-layout-body">

<form class="layui-form layui-form-pane" action="">
    <div class="layui-form-item">
        <label class="layui-form-label">年级</label>
        <div class="layui-input-block">
            <input type="radio" name="grade" value="男" title="男">
            <input type="radio" name="grade" value="女" title="女" checked>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">来源</label>
        <div class="layui-input-block">
            <input type="radio" name="source" value="男" title="男">
            <input type="radio" name="source" value="女" title="女" checked>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">录入员</label>
        <div class="layui-input-block">
            <input type="radio" name="user" value="男" title="男">
            <input type="radio" name="user" value="女" title="女" checked>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">类型</label>
        <div class="layui-input-block">
            <input type="radio" name="type" value="男" title="男">
            <input type="radio" name="type" value="女" title="女" checked>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">知识点</label>
        <div class="layui-input-inline">
            <select name="select1" lay-filter="tid" class="tid">
                <option value="">数学</option>
            </select>
        </div>
        <div class="layui-input-inline">
            <select name="select2" lay-filter="qid" disabled>
                <option value="">微积分</option>
            </select>
        </div>
        <div class="layui-input-inline">
            <select name="select3" lay-filter="aid" disabled>
                <option value="">中值定理</option>
            </select>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
        </div>
    </div>
</form>

<script src="./layui/layui.js"></script>
<script>
    //JavaScript代码区域
    layui.use(['element','jquery', 'form'], function(){
        var element = layui.element;
        var form = layui.form;
        var $ = jQuery = layui.jquery;

        // 获取选项
        var itemradio;
        $(document).ready(function() {
            jQuery.support.cors = true;
            // 登录
            $.ajax({
                type: "POST",
                url: "http://localhost:8081/jinbang/home",
                dataType: 'JSON',
                data: {
                    "name": "翠花",
                    "pwd": "e10adc3949ba59abbe56e057f20f883e"
                }, xhrFields: {
                    withCredentials: true
                }, success: function (data) {
                    console.log($.cookie());
                    console.log(data);
                    if (data.success == "Login successful!") {
                        window.localStorage.setItem("name", "翠花");
                        // window.location.href = "home.html";
                    } else {
                        alert("Wrong!");
                        // window.location.reload();
                    }
                }
            });

            // 获取表单头
            $.ajax({
                type: "GET",
                url: "http://localhost:8081/jinbang/itemradio",
                xhrFields: {
                    withCredentials: true
                }, success: function (data) {
                    if (data.err == "Not Loged!") {
                        console.log("Not Loged!");
                    } else {
                        itemradio = data.itemradio;
                        console.log(itemradio);
                    }
                }
            });
        });
        // // 多级联动下拉框
        // form.on('select(province)',function(data){
        //     $('.company_info .city select').empty();//选择省的时候清空城市地区的值
        //     $('.company_info .city select').html('<option value="">城市</option>');
        //     $('.company_info .area select').empty();
        //     $('.company_info .area select').html('<option value="">区/县</option>');
        //     if(data.value){
        //         var ajaxJson = {
        //             "parentId":data.value
        //         }
        //         getPost(urlListByParentId,ajaxJson,localStorage.getItem("ACCESSTOKEN"),function(res){
        //             if(res.respCode == 0){
        //                 if(res.obj.list.length>0){
        //                     var str="";
        //                     res.obj.list.forEach(function(ele,index){
        //                         str='<option value="'+ele.id+'">'+ele.areaName+'</option>';
        //                         $('.company_info .city select').append(str);
        //                     })
        //                     form.render('select');
        //                 }
        //             }
        //         })
        //     }
        // })
        // /*区县菜单*/
        // form.on('select(city)',function(data){
        //     $('.company_info .area select').empty();//选择市的时候清空区的值
        //     $('.company_info .area select').html('<option value="">区/县</option>');
        //     if(data.value){
        //         var ajaxJson = {
        //             "parentId":data.value
        //         }
        //         getPost(urlListByParentId,ajaxJson,localStorage.getItem("ACCESSTOKEN"),function(res){
        //             if(res.respCode == 0){
        //                 if(res.obj.list.length>0){
        //                     var str="";
        //                     res.obj.list.forEach(function(ele,index){
        //                         str='<option value="'+ele.id+'">'+ele.areaName+'</option>';
        //                         $('.company_info .area select').append(str);
        //                     })
        //                     form.render('select');
        //                 }
        //             }
        //         })
        //     }
        // });

        form.on('submit(formDemo)', function(data){
            layer.msg(JSON.stringify(data.field));

            return false;
        });
    });
</script>
</body>
</html>